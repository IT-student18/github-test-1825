<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
<style>
html {	
    	width:100%;
    	height:100%;
	background-color: dimgrey;
}
body { 
    margin: auto;
    position: relative;
    padding: auto;
    text-wrap: wrap;
    width: 80vw;
}

body * {
	width: fit-content;
	margin: auto;
}
#MainCircle {
	position: absolute;
  left: 0;
  top: 0;
}
</style>
</head>

<body class="mt">
<br>
<h2 id="o1">noneYet</h2>
<svg width="80" height="80" id="MainCircle">
  <circle cx="40" cy="40" r="38" stroke="black" stroke-width="3" fill="red" />
</svg>

<script type="module" >
let a = [];
const mc = document.getElementById('MainCircle');
const out1 = document.getElementById('o1');
//let intervalId = Array(2).fill(null);
const vWid = window.innerWidth;
const vHei = window.innerHeight;

function rdint(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

mc.style.left = "0px";
mc.style.top = "0px";

document.addEventListener("mousemove", (e) => {
        mc.style.left = `${e.clientX}px`;
        mc.style.top = `${e.clientY}px`;
        var computed = getComputedStyle(mc);
        out1.innerHTML = `${computed.left}, ${computed.top}`;
      });

function detectLeftButton(evt) {
    evt = evt || window.event;
    if ("buttons" in evt) {
        return evt.buttons == 1;
    }
    var button = evt.which || evt.button;
    return button == 1;
}

function createCirc(){
  var ranar = Array.from({ length: 3 }, () => rdint(0, 255));
  let wid = `${rdint(50,200)}`;
  const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
  svg.setAttribute('width', wid);
  svg.setAttribute('height', wid);
  svg.setAttribute('class', 'atacker');
  // svg.setAttribute('width', wid+3);
  // svg.setAttribute('height', wid+3); !!!!????
  svg.setAttribute('viewBox', `0 0 ${wid} ${wid}`);
  svg.style.position = 'absolute';
  svg.style.left = `${vWid - wid}px`;
  svg.style.top = `${rdint(0,vHei)}px`;
  
  const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
  circle.setAttribute('cx', wid/2);
  circle.setAttribute('cy', wid/2);
  circle.setAttribute('r', wid/2-3);
  circle.setAttribute('fill', `rgb(${ranar.join(',')})`);
  circle.setAttribute('stroke', 'black');
  circle.setAttribute('stroke-width', '3');

  const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
  text.setAttribute('x', wid/2);
  text.setAttribute('y', wid/2 + 5);
  text.setAttribute('font-size', '24');
  text.setAttribute('fill', 'white');
  text.setAttribute('text-anchor', 'middle');
  text.setAttribute('alignment-baseline', 'middle');
  text.textContent = 'lol';
  document.body.appendChild(svg);
  svg.appendChild(circle);
  svg.appendChild(text);
  console.log('works');
}

function moveCircs(){
  const arrOfElts = document.getElementsByClassName('atacker');
  Array.from(arrOfElts).forEach(element => {
    const wid1 = element.width.baseVal.value;
    const lef = parseFloat(getComputedStyle(element).left);
    element.style.left = `${lef - 3}px`;
    if (lef<= -wid1) element.style.left = `${vWid - wid1}px`;
  });
}


</script>

</body>
<!-- src="myScript.js"m-->
</html>
